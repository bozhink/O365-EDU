@using Resources

@{
    ViewBag.Title = Resource.App_Name;
}
<header>
    <h2>@ViewBag.Title</h2>
</header>

<section>
    <header>
        <h2>@Resource.Graph_GetEmailAddress_Heading</h2>
    </header>
    
    <p>@Html.Raw(Resource.Graph_GetEmailAddress_Instruction)</p>
    
    @using (Html.BeginForm("GetMyEmailAddress", "Graph"))
    {
        <div class="col-sm-12">
            <div class="form-group">
                <input type="submit" class="btn btn-default" id="get-my-email-address" value="@Resource.Graph_GetEmailAddress_Button" />
            </div>
        </div>
    }
    
    <div class="col-sm-12">
        <label for="user-email-address">@Resource.Graph_GetEmailAddress_Results_Label</label>
        <pre name="user-email-address">@ViewBag.Email</pre>
    </div>

</section>

<section>
    <header>
        <h3>@Resource.Graph_SendMail_Heading</h3>
    </header>
    
    <p>@Html.Raw(Resource.Graph_SendMail_Instruction)</p>
    
    @using (Html.BeginForm("SendEmail", "Graph"))
    {
        <div class="col-sm-12">
            <div class="form-group">
                <label for="recipients">@Resource.Graph_SendMail_Recipients_Label</label>
                <input name="recipients" type="text" class="form-control" value="@ViewBag.Email" @(ViewBag.Email == null ? "disabled" : null) />
            </div>
            <div class="form-group">
                <label for="subject">@Resource.Graph_SendMail_Subject_Label</label>
                <input name="subject" type="text" class="form-control" value="@Resource.Graph_SendMail_Subject_Text @Resource.App_Name_Short" @(ViewBag.Email == null ? "disabled" : null) />
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-default @(ViewBag.Email == null ? "disabled" : null)" value="@Resource.Graph_SendMail_Button" />
                <input name="email-address" value="@ViewBag.Email" type="hidden" />
            </div>
        </div>
    }
    <div class="col-sm-12">
        <p class="@(ViewBag.Message == null ? "hidden" : null)">@Html.Raw(ViewBag.Message)</p>
    </div>
</section>